@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CSS variables for consistency with original design */
:root {
  --card-bg: white;
  --primary-color: #235789;
  --text-gray: #666;
  --border-radius: 15px;
  --spacing: 1rem;
}

/* Custom component classes that combine multiple Tailwind utilities */
@layer components {
  .btn-primary {
    @apply bg-primary text-white border-none rounded-lg px-8 py-2 text-base cursor-pointer min-h-[44px] transition-colors duration-150;
  }
  
  .btn-primary:hover {
    @apply bg-primary-dark;
  }
  
  .btn-primary:disabled {
    @apply bg-gray-300 cursor-not-allowed;
  }
  
  .category-btn {
    @apply w-full gradient-category border-2 border-border-light rounded-category p-4 px-5 pb-5 text-left cursor-pointer flex flex-col gap-1 transition-all duration-200 relative overflow-hidden;
  }
  
  .category-btn::after {
    content: "";
    @apply absolute inset-0 opacity-0 transition-opacity duration-300 pointer-events-none;
    background: radial-gradient(circle at 85% 20%, rgba(35,87,137,0.12), transparent 60%);
  }
  
  .category-btn:hover {
    @apply border-primary shadow-lg;
    transform: translateY(-3px);
    box-shadow: 0 6px 20px -6px rgba(35,87,137,0.35);
  }
  
  .category-btn:hover::after {
    @apply opacity-100;
  }
  
  .category-title {
    @apply text-xl font-semibold text-blue-800;
  }
  
  .category-desc {
    @apply text-sm leading-5 text-blue-600;
  }
  
  .high-score {
    @apply text-xs text-primary font-semibold px-2 py-1 rounded-lg mt-1 inline-block;
    background: rgba(35,87,137,0.1);
  }
  
  .card-3d {
    perspective: 1200px;
    @apply relative w-full min-h-[640px];
  }
  
  .card-3d > .card-inner {
    transform-style: preserve-3d;
    transition: transform 700ms cubic-bezier(.2,.9,.2,1);
    @apply relative w-full h-full;
  }
  
  .card-3d.flipped > .card-inner {
    transform: rotateY(180deg);
  }
  
  .card-face {
    @apply w-full h-full absolute top-0 left-0;
    transform-origin: center center;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    will-change: transform;
    @apply z-[2];
    pointer-events: auto;
  }
  
  .answer-section {
    transform: rotateY(180deg);
  }
  
  .gradient-primary {
    background: linear-gradient(135deg, #235789, #1d466b);
  }
  
  .gradient-category {
    background: linear-gradient(145deg, #f1f6fb, #ffffff);
  }
  
  .gradient-summary {
    background: linear-gradient(145deg, #ffffff, #f8fbff);
  }
  
  .gradient-gold {
    background: linear-gradient(135deg, #ffd700, #ffb300);
  }
}

/* Preserve 3D transforms and other complex CSS that Tailwind doesn't handle well */
@layer utilities {
  .preserve-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .perspective-1200 {
    perspective: 1200px;
  }
}

/* Additional styles for card overlays and interactive elements */
@layer components {
  .card-text {
    @apply absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4/5 max-w-md z-[12] pointer-events-none text-center;
  }
  
  .section-title {
    @apply m-0 mb-1.5 text-primary font-bold text-4xl leading-none tracking-wide;
    text-shadow: 0 1px 0 rgba(255,255,255,0.6);
  }
  
  .answer-content {
    @apply absolute left-1/2 transform -translate-x-1/2 w-4/5 max-w-sm z-[5] flex justify-center gap-3;
    bottom: 6%;
  }
  
  .text-area {
    @apply text-gray-900 text-lg mx-auto mb-1 leading-6 bg-white bg-opacity-95 inline-block px-3 py-2 rounded-lg shadow-sm;
  }
  
  .input-area {
    @apply absolute left-1/2 transform -translate-x-1/2 w-4/5 max-w-sm z-[16] bg-white bg-opacity-95 p-3 rounded-lg flex flex-col items-stretch gap-2 shadow-lg;
    bottom: 6%;
  }
  
  .input-label {
    @apply text-text-gray text-sm mb-2 block bg-white bg-opacity-90 p-1 rounded;
  }
  
  .input-box {
    @apply w-full h-10 border-2 border-primary rounded px-4 text-base mb-4 bg-white bg-opacity-95 shadow-sm;
  }
  
  .submit-btn, .next-btn {
    @apply btn-primary;
  }
  
  .prev-btn, .confirm-btn {
    @apply bg-blue-700 text-white border-none rounded px-6 py-2 text-sm cursor-pointer min-h-[40px] shadow-sm transition-all duration-150;
  }
  
  .prev-btn:hover:not(:disabled), .confirm-btn:hover:not(:disabled) {
    @apply bg-blue-800;
  }
  
  .prev-btn:disabled, .confirm-btn:disabled {
    @apply bg-gray-400 cursor-not-allowed;
  }
  
  .choice-actions {
    @apply absolute left-1/2 transform -translate-x-1/2 w-4/5 max-w-sm flex justify-center gap-2.5 z-[25];
    bottom: 2%;
  }
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .category-screen {
    @apply px-4 py-6 pb-8 mx-2 rounded-2xl;
  }
  
  .app-title {
    @apply text-3xl;
  }
  
  .category-btn {
    @apply p-4 rounded-2xl;
  }
  
  .category-title {
    @apply text-lg;
  }
  
  .category-desc {
    @apply text-xs;
  }
  
  .high-score {
    @apply text-xs px-1.5 py-0.5;
  }
  
  .card-text {
    @apply w-5/6 top-[45%];
  }
  
  .text-area {
    @apply text-base px-3.5 py-2.5 leading-6;
  }
  
  .input-area {
    @apply w-5/6 p-3.5;
    bottom: 4%;
  }
  
  .answer-content {
    @apply w-5/6 flex-col gap-2;
    bottom: 4%;
  }
  
  .choice-actions {
    @apply w-5/6;
    bottom: 1%;
  }
  
  .confirm-btn {
    @apply px-5 py-3 text-sm min-h-[48px];
  }
  
  .prev-btn, .next-btn {
    @apply w-full p-3 min-h-[48px];
  }
  
  .progress-text {
    @apply text-xs px-2 py-1;
  }
  
  .summary-content {
    @apply px-6 py-8 pb-6 mx-4 w-[calc(100%-2rem)];
  }
  
  .summary-title {
    @apply text-xl;
  }
  
  .stat-item {
    @apply py-3 px-4 text-sm;
  }
  
  .stat-value {
    @apply text-base;
  }
  
  .summary-btn {
    @apply py-3 px-6 text-sm w-full;
  }
}